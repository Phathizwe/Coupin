"use strict";(self.webpackChunktyca=self.webpackChunktyca||[]).push([[229],{3229:(e,t,r)=>{r.r(t),r.d(t,{BasicInfoStep:()=>x,CouponAppearanceStep:()=>h,CouponPreview:()=>d,CouponSettingsStep:()=>p,CreateCouponModal:()=>l});var s=r(9379),a=r(9950),n=r(6932),i=r(5961);var o=r(4414);const l=e=>{let{isOpen:t=!1,onClose:r,onSave:l,onCouponCreated:d,templateData:c,templateType:m}=e;const{user:u,businessProfile:x}=(0,i.A)(),p=(null===u||void 0===u?void 0:u.businessId)||(null===u||void 0===u?void 0:u.currentBusinessId)||("business"===(null===u||void 0===u?void 0:u.role)?null===u||void 0===u?void 0:u.uid:""),h=(x&&(x.businessName||x.name||x.displayName),(0,a.useMemo)((()=>{const e={title:"",description:"",type:"percentage",value:10,buyQuantity:1,getQuantity:1,freeItem:"",minPurchase:0,maxDiscount:0,startDate:new Date,endDate:new Date((new Date).setMonth((new Date).getMonth()+1)),usageLimit:void 0,customerLimit:1,firstTimeOnly:!1,birthdayOnly:!1,active:!0,code:"",termsAndConditions:"",branding:{backgroundColor:"#ffffff",textColor:"#000000",logo:void 0}};return c?((e,t)=>{var r,a,n,i,o,l;return(0,s.A)((0,s.A)((0,s.A)({},e),t),{},{branding:{backgroundColor:null!==(r=null===(a=t.branding)||void 0===a?void 0:a.backgroundColor)&&void 0!==r?r:e.branding.backgroundColor,textColor:null!==(n=null===(i=t.branding)||void 0===i?void 0:i.textColor)&&void 0!==n?n:e.branding.textColor,logo:null!==(o=null===(l=t.branding)||void 0===l?void 0:l.logo)&&void 0!==o?o:e.branding.logo},startDate:t.startDate?new Date(t.startDate):e.startDate,endDate:t.endDate?new Date(t.endDate):e.endDate})})(e,c):e}),[c])),[g,y]=(0,a.useState)(h),[b,f]=(0,a.useState)({}),[v,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(null);(0,a.useEffect)((()=>{t&&(y(h),f({}),w(null))}),[t,h]),(0,a.useEffect)((()=>{let e=!0;return p&&!g.code&&t&&(j(!0),(0,n.CP)(p).then((t=>{e&&y((e=>(0,s.A)((0,s.A)({},e),{},{code:t})))})).catch((t=>{e&&(console.error("Error generating coupon code:",t),w("Failed to generate coupon code. Please try again."))})).finally((()=>{e&&j(!1)}))),()=>{e=!1}}),[p,t,g.code]);const C=(0,a.useCallback)((e=>{const{name:t,value:r,type:a}=e.target;y((n=>(0,s.A)((0,s.A)({},n),{},{[t]:"checkbox"===a?e.target.checked:r}))),b[t]&&f((e=>{const r=(0,s.A)({},e);return delete r[t],r}))}),[b]);(0,a.useCallback)(((e,t)=>{y((r=>(0,s.A)((0,s.A)({},r),{},{[e]:t}))),b[e]&&f((t=>{const r=(0,s.A)({},t);return delete r[e],r}))}),[b]);return t?(0,o.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,o.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,o.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,o.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,o.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,o.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:(0,o.jsx)("div",{className:"sm:flex sm:items-start",children:(0,o.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[(0,o.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:m?"Create ".concat(m," Coupon"):"Create New Coupon"}),N&&(0,o.jsx)("div",{className:"mt-2 p-2 bg-red-100 text-red-700 rounded",children:N}),b.general&&(0,o.jsx)("div",{className:"mt-2 p-2 bg-red-100 text-red-700 rounded",children:b.general}),(0,o.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=(e=>e.title.trim()?e.code.trim()?e.startDate>=e.endDate?{isValid:!1,errorMessage:"End date must be after start date"}:"freeItem"!==e.type||e.freeItem.trim()?{isValid:!0,errorMessage:""}:{isValid:!1,errorMessage:"Free item description is required"}:{isValid:!1,errorMessage:"Coupon code is required"}:{isValid:!1,errorMessage:"Coupon title is required"})(g);if(!t.isValid){const e={};return t.errorMessage&&(e.general=t.errorMessage),void f(e)}j(!0),w(null);try{let e=(0,s.A)({},g);if(!e.code){const t=await(0,n.CP)(p);e=(0,s.A)((0,s.A)({},e),{},{code:t})}const t={businessId:p,title:e.title,description:e.description,code:e.code,type:e.type,value:e.value,active:void 0===e.active||e.active,startDate:e.startDate,endDate:e.endDate,usageLimit:e.usageLimit,customerLimit:e.customerLimit,firstTimeOnly:e.firstTimeOnly,birthdayOnly:e.birthdayOnly,branding:e.branding};"buyXgetY"===e.type&&(t.buyQuantity=e.buyQuantity||1,t.getQuantity=e.getQuantity||1),"freeItem"===e.type&&(t.freeItem=e.freeItem||"");const a=await(0,n.Im)(t);l&&l(a),d&&d(a),r()}catch(N){console.error("Error creating coupon:",N),w(N.message||"Failed to create coupon. Please try again.")}finally{j(!1)}},className:"mt-4",children:[(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,o.jsx)("input",{type:"text",name:"title",id:"title",value:g.title,onChange:C,className:"mt-1 block w-full border ".concat(b.title?"border-red-300":"border-gray-300"," rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm")}),b.title&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.title})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,o.jsx)("textarea",{name:"description",id:"description",rows:3,value:g.description,onChange:C,className:"mt-1 block w-full border ".concat(b.description?"border-red-300":"border-gray-300"," rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm")}),b.description&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.description})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700",children:"Coupon Code"}),(0,o.jsx)("input",{type:"text",name:"code",id:"code",value:g.code,onChange:C,className:"mt-1 block w-full border ".concat(b.code?"border-red-300":"border-gray-300"," rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm")}),b.code&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.code})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:"Discount Type"}),(0,o.jsxs)("select",{name:"type",id:"type",value:g.type,onChange:C,className:"mt-1 block w-full border ".concat(b.type?"border-red-300":"border-gray-300"," rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"),children:[(0,o.jsx)("option",{value:"percentage",children:"Percentage"}),(0,o.jsx)("option",{value:"fixed",children:"Fixed Amount"}),(0,o.jsx)("option",{value:"buyXgetY",children:"Buy X Get Y"}),(0,o.jsx)("option",{value:"freeItem",children:"Free Item"})]}),b.type&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.type})]}),("percentage"===g.type||"fixed"===g.type)&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"value",className:"block text-sm font-medium text-gray-700",children:"percentage"===g.type?"Percentage":"Amount"}),(0,o.jsx)("input",{type:"number",name:"value",id:"value",min:"0",value:g.value,onChange:C,className:"mt-1 block w-full border ".concat(b.value?"border-red-300":"border-gray-300"," rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm")}),b.value&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.value})]}),"freeItem"===g.type&&(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"freeItem",className:"block text-sm font-medium text-gray-700",children:"Free Item"}),(0,o.jsx)("input",{type:"text",name:"freeItem",id:"freeItem",value:g.freeItem||"",onChange:C,className:"mt-1 block w-full border ".concat(b.freeItem?"border-red-300":"border-gray-300"," rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm")}),b.freeItem&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.freeItem})]}),"buyXgetY"===g.type&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"buyQuantity",className:"block text-sm font-medium text-gray-700",children:"Buy Quantity"}),(0,o.jsx)("input",{type:"number",name:"buyQuantity",id:"buyQuantity",min:"1",value:g.buyQuantity||1,onChange:C,className:"mt-1 block w-full border ".concat(b.buyQuantity?"border-red-300":"border-gray-300"," rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm")}),b.buyQuantity&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.buyQuantity})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"getQuantity",className:"block text-sm font-medium text-gray-700",children:"Get Quantity"}),(0,o.jsx)("input",{type:"number",name:"getQuantity",id:"getQuantity",min:"1",value:g.getQuantity||1,onChange:C,className:"mt-1 block w-full border ".concat(b.getQuantity?"border-red-300":"border-gray-300"," rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm")}),b.getQuantity&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.getQuantity})]})]})]}),(0,o.jsxs)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[(0,o.jsx)("button",{type:"submit",disabled:v,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:col-start-2 sm:text-sm",children:v?"Creating...":"Create Coupon"}),(0,o.jsx)("button",{type:"button",onClick:r,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:col-start-1 sm:text-sm",children:"Cancel"})]})]})]})})})]})}):null},d=e=>{var t,r;let{coupon:s}=e;const a=e=>e instanceof Date?e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Invalid date";return(0,o.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg overflow-hidden",style:{backgroundColor:(null===(t=s.branding)||void 0===t?void 0:t.backgroundColor)||"#ffffff",color:(null===(r=s.branding)||void 0===r?void 0:r.textColor)||"#000000"},children:[(0,o.jsxs)("div",{className:"p-4",children:[(0,o.jsxs)("div",{className:"flex justify-between items-start",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"text-xs uppercase font-bold mb-1",children:"COUPON CODE"}),(0,o.jsx)("div",{className:"text-lg font-bold tracking-wider mb-2",children:s.code})]}),(0,o.jsxs)("div",{className:"text-right",children:[(0,o.jsx)("div",{className:"text-2xl font-bold",children:(()=>{switch(s.type){case"percentage":return"".concat(s.value,"% OFF");case"fixed":return"$".concat(s.value," OFF");case"buyXgetY":return"BUY ".concat(s.buyQuantity," GET ").concat(s.getQuantity);case"freeItem":return"FREE ".concat(s.freeItem);default:return"SPECIAL OFFER"}})()}),void 0!==s.minPurchase&&s.minPurchase>0&&(0,o.jsxs)("div",{className:"text-xs mt-1",children:["Min. purchase: $",s.minPurchase]})]})]}),(0,o.jsxs)("div",{className:"mt-3",children:[(0,o.jsx)("h3",{className:"text-xl font-bold",children:s.title}),s.description&&(0,o.jsx)("p",{className:"text-sm mt-1",children:s.description})]}),(0,o.jsx)("div",{className:"mt-4 text-xs",children:(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsxs)("span",{children:["Valid from: ",a(s.startDate)]}),(0,o.jsxs)("span",{children:["Expires: ",a(s.endDate)]})]})}),s.termsAndConditions&&(0,o.jsx)("div",{className:"mt-3 text-xs",children:(0,o.jsxs)("p",{className:"italic",children:["*",s.termsAndConditions]})})]}),(0,o.jsx)("div",{className:"bg-gray-100 p-2 text-center text-xs",style:{color:"#666"},children:"Scan or present this coupon at checkout"})]})};var c=r(9516);const m=e=>{let{text:t,position:r="top"}=e;return(0,o.jsx)(c.A,{text:t,position:r,children:(0,o.jsx)("svg",{className:"w-4 h-4 text-gray-400 hover:text-gray-600 cursor-help inline-block ml-1",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})})},u=e=>{let{couponType:t}=e;const r=(()=>{switch(t){case"percentage":return{title:"Percentage Discount Strategy",advice:"Percentage discounts work best for encouraging repeat purchases from existing customers. Consider 15-25% for re-engagement campaigns.",stats:"Customers who receive percentage-based retention offers are 31% more likely to make a repeat purchase within 60 days.",bestFor:"Win-back campaigns, loyalty rewards, and encouraging larger purchases from existing customers."};case"fixed":return{title:"Fixed Amount Strategy",advice:"Fixed amount discounts create a clear value proposition and work well for re-engaging inactive customers.",stats:"Fixed amount offers typically generate 27% higher conversion rates than percentage offers for lapsed customers.",bestFor:"Re-engaging inactive customers, setting minimum purchase thresholds, and creating predictable customer savings."};case"buyXgetY":return{title:"Buy X Get Y Strategy",advice:"This format encourages larger purchases while building loyalty through added value rather than discounting.",stats:"Buy X Get Y offers increase average order value by 21% while maintaining healthy margins.",bestFor:"Increasing purchase frequency, boosting average order value, and introducing customers to new products."};case"freeItem":return{title:"Free Item Strategy",advice:"Offering a free item creates a strong incentive for return visits and can introduce customers to new products.",stats:"Free item promotions have a 24% higher redemption rate than equivalent cash discounts.",bestFor:"Building emotional connection, product sampling, and creating memorable customer experiences."};default:return{title:"Customer Retention Strategy",advice:"Focus your coupon strategy on keeping existing customers rather than just attracting new ones.",stats:"Increasing customer retention by just 5% can increase profits by 25-95%.",bestFor:"Building customer loyalty, increasing purchase frequency, and maximizing customer lifetime value."}}})();return(0,o.jsxs)("div",{className:"bg-blue-50 p-4 rounded-md mb-4",children:[(0,o.jsx)("h4",{className:"font-medium text-blue-800",children:r.title}),(0,o.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:r.advice}),(0,o.jsxs)("div",{className:"mt-3 border-t border-blue-200 pt-2",children:[(0,o.jsxs)("div",{className:"flex items-start mt-2",children:[(0,o.jsx)("svg",{className:"h-5 w-5 text-blue-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),(0,o.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,o.jsx)("span",{className:"font-medium",children:"Retention Impact:"})," ",r.stats]})]}),(0,o.jsxs)("div",{className:"flex items-start mt-2",children:[(0,o.jsx)("svg",{className:"h-5 w-5 text-blue-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z",clipRule:"evenodd"})}),(0,o.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,o.jsx)("span",{className:"font-medium",children:"Best For:"})," ",r.bestFor]})]})]}),(0,o.jsx)("div",{className:"mt-3 text-xs text-blue-600 italic",children:"Remember: It costs 5-25x more to acquire a new customer than to retain an existing one."})]})},x=e=>{let{formData:t,onInputChange:r,onTextAreaChange:s,onSelectChange:a}=e;return(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Retention Strategy Information"}),(0,o.jsx)(u,{couponType:t.type}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Coupon Title*",(0,o.jsx)(m,{text:"Create a compelling title that communicates the value to returning customers"})]}),(0,o.jsx)("input",{type:"text",name:"title",value:t.title,onChange:r,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., Loyal Customer Reward: 20% Off Your Next Visit",required:!0,"aria-describedby":"title-help"})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description",(0,o.jsx)(m,{text:"Explain how this offer helps reward customer loyalty"})]}),(0,o.jsx)("textarea",{name:"description",value:t.description,onChange:s,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., As a thank you for being a valued customer, enjoy this exclusive discount on your next purchase"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Retention Strategy Type*",(0,o.jsx)(m,{text:"Choose the strategy that best fits your customer retention goals"})]}),(0,o.jsxs)("select",{name:"type",value:t.type,onChange:a,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0,children:[(0,o.jsx)("option",{value:"percentage",children:"Percentage Discount"}),(0,o.jsx)("option",{value:"fixed",children:"Fixed Amount"}),(0,o.jsx)("option",{value:"buyXgetY",children:"Buy X Get Y"}),(0,o.jsx)("option",{value:"freeItem",children:"Free Item"})]})]}),"percentage"===t.type&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Percentage Off*",(0,o.jsx)(m,{text:"15-25% is optimal for retention offers"})]}),(0,o.jsx)("input",{type:"number",name:"value",value:t.value||"",onChange:r,min:"1",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]}),"fixed"===t.type&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Amount Off*",(0,o.jsx)(m,{text:"Fixed amounts create clear value for returning customers"})]}),(0,o.jsx)("input",{type:"number",name:"value",value:t.value||"",onChange:r,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]}),"buyXgetY"===t.type&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Buy Quantity*",(0,o.jsx)(m,{text:"Encourages larger purchases from loyal customers"})]}),(0,o.jsx)("input",{type:"number",name:"buyQuantity",value:t.buyQuantity||"",onChange:r,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Get Quantity*",(0,o.jsx)(m,{text:"Rewards loyalty while maintaining margins"})]}),(0,o.jsx)("input",{type:"number",name:"getQuantity",value:t.getQuantity||"",onChange:r,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),"freeItem"===t.type&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Free Item*",(0,o.jsx)(m,{text:"Free items create memorable experiences that build loyalty"})]}),(0,o.jsx)("input",{type:"text",name:"freeItem",value:t.freeItem,onChange:r,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., Small Coffee",required:!0})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Date*",(0,o.jsx)(m,{text:"Strategic timing can improve retention effectiveness"})]}),(0,o.jsx)("input",{type:"date",name:"startDate",value:t.startDate.toISOString().split("T")[0],onChange:r,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["End Date*",(0,o.jsx)(m,{text:"Creating urgency increases redemption rates"})]}),(0,o.jsx)("input",{type:"date",name:"endDate",value:t.endDate.toISOString().split("T")[0],onChange:r,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",required:!0})]})]}),(0,o.jsxs)("div",{className:"mt-4 bg-green-50 p-3 rounded-md",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,o.jsx)("h4",{className:"font-medium text-green-800 text-sm",children:"Pro Retention Tip"})]}),(0,o.jsx)("p",{className:"text-sm text-green-700 mt-1",children:"After creating this coupon, use the Customers page to target specific customer segments like inactive customers or high-value regulars for maximum retention impact."})]})]})},p=e=>{let{formData:t,onInputChange:r,onTextAreaChange:s}=e;return(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Coupon Settings"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Coupon Code*",(0,o.jsx)(m,{text:"This is what customers will enter at checkout"})]}),(0,o.jsx)("input",{type:"text",name:"code",value:t.code,onChange:r,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., SUMMER20",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Minimum Purchase",(0,o.jsx)(m,{text:"Minimum amount customer must spend to use this coupon"})]}),(0,o.jsx)("input",{type:"number",name:"minPurchase",value:t.minPurchase||"",onChange:r,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., 50"})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Usage Limit",(0,o.jsx)(m,{text:"Maximum number of times this coupon can be used in total"})]}),(0,o.jsx)("input",{type:"number",name:"usageLimit",value:t.usageLimit||"",onChange:r,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., 100"})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Per Customer Limit",(0,o.jsx)(m,{text:"How many times each customer can use this coupon"})]}),(0,o.jsx)("input",{type:"number",name:"customerLimit",value:t.customerLimit||"",onChange:r,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., 1"})]})]}),"percentage"===t.type&&(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Maximum Discount",(0,o.jsx)(m,{text:"Maximum amount that can be discounted (leave empty for no limit)"})]}),(0,o.jsx)("input",{type:"number",name:"maxDiscount",value:t.maxDiscount||"",onChange:r,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., 100"})]}),(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Terms and Conditions",(0,o.jsx)(m,{text:"Any restrictions or special conditions customers should know"})]}),(0,o.jsx)("textarea",{name:"termsAndConditions",value:t.termsAndConditions,onChange:s,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., Not valid with other offers. Cannot be combined with other discounts."})]}),(0,o.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",id:"firstTimeOnly",name:"firstTimeOnly",checked:t.firstTimeOnly,onChange:r,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,o.jsxs)("label",{htmlFor:"firstTimeOnly",className:"ml-2 block text-sm text-gray-700",children:["First-time customers only",(0,o.jsx)(m,{text:"Limit this coupon to customers who haven't made a purchase before"})]})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",id:"birthdayOnly",name:"birthdayOnly",checked:t.birthdayOnly,onChange:r,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,o.jsxs)("label",{htmlFor:"birthdayOnly",className:"ml-2 block text-sm text-gray-700",children:["Birthday month only",(0,o.jsx)(m,{text:"Limit this coupon to customers during their birthday month"})]})]}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("input",{type:"checkbox",id:"active",name:"active",checked:t.active,onChange:r,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,o.jsxs)("label",{htmlFor:"active",className:"ml-2 block text-sm text-gray-700",children:["Make coupon active immediately",(0,o.jsx)(m,{text:"If unchecked, coupon will be saved as inactive and can be activated later"})]})]})]})]})},h=e=>{var t,r;let{formData:s,onInputChange:a,showPreview:n,togglePreview:i}=e;return(0,o.jsxs)("div",{className:"p-6",children:[(0,o.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Coupon Appearance"}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsxs)("button",{type:"button",onClick:i,className:"mb-4 text-primary-600 hover:text-primary-700 font-medium flex items-center","aria-expanded":n,"aria-controls":"coupon-preview",children:[n?"Hide Preview":"Show Preview",(0,o.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:n?"M19 9l-7 7-7-7":"M9 5l7 7-7 7"})})]}),n&&(0,o.jsx)("div",{id:"coupon-preview",className:"mb-4 border p-4 rounded-lg",children:(0,o.jsx)(d,{coupon:s})})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Background Color",(0,o.jsx)(m,{text:"Choose a background color for your coupon"})]}),(0,o.jsx)("input",{type:"color",name:"backgroundColor",value:(null===(t=s.branding)||void 0===t?void 0:t.backgroundColor)||"#ffffff",onChange:a,className:"w-full h-10 px-1 py-1 border border-gray-300 rounded-md"})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Text Color",(0,o.jsx)(m,{text:"Choose a text color that contrasts with your background"})]}),(0,o.jsx)("input",{type:"color",name:"textColor",value:(null===(r=s.branding)||void 0===r?void 0:r.textColor)||"#000000",onChange:a,className:"w-full h-10 px-1 py-1 border border-gray-300 rounded-md"})]})]}),(0,o.jsx)("div",{className:"mt-6",children:(0,o.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:[(0,o.jsx)("svg",{className:"inline-block w-4 h-4 mr-1 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Your business logo will be automatically added to the coupon if available."]})})]})}}}]);